package Hacking;

import java.util.Scanner;

public class Server {
	
	private String username;
	private String password;
	private String ipAddress;
	
	private String file;
	
	private boolean access;
	private boolean found;
	
	private Scanner input;
	
	public Server(String user, String pass, String fileText, String ip, Scanner in){
		username = user;
		password = pass;
		file = fileText;
		access = false;
		found = false;
		ipAddress = ip;
		input = in;
	}
	
	public void login(String user, String pass){
		if(user.equals(username)&&pass.equals(password)&&found){
			access = true;
			MainControl.write("Access granted");
		}
		else if(user.equals(username)&&found){
			MainControl.write("Incorrect username");
			MainControl.write("Reenter username.");
			user = input.nextLine();
			MainControl.write("Reenter password.");
			pass = input.nextLine();
			login(user, pass);
		}
		else if(pass.equals(password)&&found){
			MainControl.write("Incorrect password");
			MainControl.write("Reenter username.");
			user = input.nextLine();
			MainControl.write("Reenter password.");
			pass = input.nextLine();
			login(user, pass);
		}
		else if(found){
			MainControl.write("Incorrect username and password");
			MainControl.write("Reenter username.");
			user = input.nextLine();
			MainControl.write("Reenter password.");
			pass = input.nextLine();
			login(user, pass);
		}
	}
	
	public void find(String ip){
		if(ipAddress.equals(ip)){
			found = true;
			MainControl.write("Server found");
		}
		else{
			MainControl.write("Server not found");
			return;
		}
		MainControl.write("Admin access only. Enter username.");
		String user = input.nextLine();
		MainControl.write("Enter password.");
		String pass = input.nextLine();
		login(user, pass);
	}
	
	public String getIp(){
		return ipAddress;
	}
	
}
